{% extends 'base.html' %}
{% comment %}
    context = {
        'user_game_rooms': user_game_room_qs,
        'other_game_rooms': other_game_room_qs,
    }
{% endcomment %}
{% block title %}
    User Profile
{% endblock %}

{% block content %}
    {% if user.is_authenticated %}
        <a href="{% url 'home' %}">Back to Home</a>
        <br/>
        <a href="{% url 'logout' %}">Logout</a>
        <br/>
        Hello, {{ user.username }}
        <br/>
        <h2>Your Game Rooms</h2>
        <a href="{% url 'create_game_room' %}">Create New Room</a>
        <br/>
        {% if user_game_rooms %}
            <table>
                <tr>
                    <th>Serial Number</th>
                    <th>Unique Game ID</th>
                </tr>
                {% for user_game_room in user_game_rooms %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ user_game_room.unique_game_id }}</td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            You haven't created any game rooms yet.
        {% endif %}

        <h2>Other Game Rooms</h2>
        {% if other_game_rooms %}
            <table>
            <tr>
                <th>Serial Number</th>
                <th>Unique Game ID</th>
                <th>Join Button</th>
            </tr>
            {% for other_game_room in other_game_rooms %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ other_game_room.unique_game_id }}</td>
                    <td><button type="button">Join</button></td>
                </tr>
            {% endfor %}
            </table>
        {% else %}
            Alas! No Other Game Rooms are available at this moment.
        {% endif %}


    {% else %}
        Hey! How did you get in here. You are not logged in!
    {% endif %}
{% endblock %}